from dotenv import load_dotenv
import os
import google.generativeai as genai

# Carregar vari√°vel de ambiente
load_dotenv()
genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))

# Fun√ß√£o para criar agentes simulando comportamentos
def gerar_resposta_gemini(prompt):
    model = genai.GenerativeModel("models/gemini-1.5-flash")
    response = model.generate_content(prompt)
    return response.text.strip()
    
# Agente: Especialista em Compras de Motos
def criar_roteiro_compra():
    prompt = f"""
    Voc√™ √© um especialista em compras de motocicletas premium. 
    Crie um roteiro detalhado para comprar uma Yamaha Tracer 900 GT 2024, incluindo:
    
    1. Pesquisa Pr√©via:
    - Principais especifica√ß√µes t√©cnicas da moto
    - Itens de s√©rie e opcionais dispon√≠veis
    - M√©dia de pre√ßo no mercado novo e seminovo
    
    2. Concession√°rias Yamaha:
    - Como encontrar concession√°rias autorizadas
    - Checklist para avalia√ß√£o da moto nova
    - Documenta√ß√£o necess√°ria para compra
    
    3. Test Ride:
    - Como agendar um test ride
    - Aspectos para avaliar durante o teste
    - Comparativo com concorrentes diretos
    
    4. Negocia√ß√£o:
    - Itens negoci√°veis (acess√≥rios, garantia, etc.)
    - Formas de pagamento vantajosas
    - Como verificar proced√™ncia da moto
    
    5. P√≥s-Compra:
    - Primeiras manuten√ß√µes necess√°rias
    - Seguros recomendados
    - Acess√≥rios essenciais para touring
    """
    return gerar_resposta_gemini(prompt)
  
# Agente: Financeiro
def estimar_custos(roteiro):
    prompt = f"""
    Com base neste roteiro de compra abaixo, fa√ßa uma estimativa de custos detalhada considerando:
    
    - Pre√ßo m√©dio da Yamaha Tracer 900 GT 2024 zero km
    - Custos adicionais (documenta√ß√£o, frete, etc.)
    - Acess√≥rios recomendados e seus valores
    - Custo de manuten√ß√£o nos primeiros 12 meses
    - Seguro anual estimado
    - Poss√≠vel valor de revenda futura
    
    ROTEIRO:
    {roteiro}
    """
    return gerar_resposta_gemini(prompt)
    
# Execu√ß√£o
roteiro_compra = criar_roteiro_compra()
custos = estimar_custos(roteiro_compra)

# Resultados
print("üõµ Roteiro para Compra da Yamaha Tracer 900 GT 2024:\n")
print(roteiro_compra)
print("\nüí∞ Estimativa de Custos:\n")
print(custos)
